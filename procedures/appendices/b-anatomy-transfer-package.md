###### [Digital Transfer](../../README.md)
###### Standard Transfer `|` [Procedures for Producers](../standard-producers/00-introduction.md) `|` [Procedures for Archives](../standard-archives/00-introduction.md)

# Appendix B. Anatomy of the Transfer Package
SFU MoveIt creates a standard transfer package as a single zip file on your desktop. This page describes how the package is structured.

The transfer package is a **copy** of target folder you are prompted to select for packaging.
- The original target is unaffected and remains in place.
- The name of the transfer package is based on the value you supplied in the `Transfer Title` field (**not** on the name of the original target folder).

## Bag
<img align="right" width="400" src="../../screenshots/app-bag.png">

The transfer package is a zipped **bag** â€“ a container that adheres to the [BagIt File Packaging Format](https://tools.ietf.org/html/rfc8493), "a set of hierarchical file layout conventions for storage and transfer of arbitrary digital content" (from the BagIt specification Abstract).

If you unzip the file, you will see how the bag is structured.
- It comprises four `tag` files plus a `data` folder containing the target transfer folder and its contents.

`bag-info.txt`
- Captures the information the user entered on the SFU MoveIt interface (in [step 2.2 of the producer procedures](../standard-producers/02-transferm.d#23-create-a-transfer-package-with-sfu-moveit)).
- Includes some auto-generated metadata (e.g. `bag-size`).
- Field names are given here in accordance with the conventions of the BagIt specification.

`bagit.txt`
- Identifies the directory as a **bag**, gives the version of the BagIt specification used, and the character encoding used for tag files.
- Note that SFU MoveIt generates "v0.97" as the version number, though the latest version of BagIt is 1.0.
- The MoveIt bag does in fact comply with BagIt 1.0, but this value will cause an error with an older tool (Bagger) the Archives uses to the validate the bag itself; so we have left 0.97 as the version value.

`data folder`
- Contains the actual transfer files in their original directory structure.

`manifest-sha256.txt`
- Lists all the files in the data folder, with their individual checksums generated by the SHA256 algorithm (see below for more on [checksums](#checksums)).

`tagmanifest-sha256.txt`
- Lists all the tag files with their checksums.

## Checksums
<img align="right" width="400" src="../../screenshots/app-checksums.png">

SFU MoveIt creates checksums for each file included in your transfer and records the values in the bag `manifest` file.
- A checksum is an alpha-numeric value calculated by an algorithm applied to the file's underlying bitstream (the string of 0s and 1s).
- A checksum functions as a kind of **digital fingerprint**: any change to the bitstream will generate a completely different value when the same algorithm is applied.

Following deposit, the Archives runs a tool (Bagger) that compares the files' pre-transfer checksums (stored in the `manifest` file) with the checksums that Bagger generates post-transfer.
-	In this way the Archives can identify any files that suffered corruption or data loss during transmission and will ask you to re-send them.
- The checksums also provide a baseline that can be used to check whether the Archives itself inadvertently changed any data during the inspection of the files during the [validation phase](../standard-archives/03-validation.md).

###### Last updated: Jan 20, 2021
###### [< Appendix A. Transfer Metadata >](a-transfer-Metadata.md)
